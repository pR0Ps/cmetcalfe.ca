<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Carey Metcalfe">
  <meta name="description" content="Posts tagged with 'games' on this site">

  <link rel="stylesheet" type="text/css" href="../../theme/css/styles.ec0bdb0f.min.css">

  <script src="../../theme/js/scripts.7db5858b.min.js" type="text/javascript"></script>

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">

  <link href="https://cmetcalfe.ca/feeds/all.rss" type="application/rss+xml" rel="alternate" title="Carey Metcalfe Full RSS Feed" />


  <title>Tag: games | Carey Metcalfe</title>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28306875-1', 'cmetcalfe.ca');
  ga('send', 'pageview');
</script>
</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="../..">
        <img src="/images/avatar.jpg" id="logo">
      </a>
      <h2><a href="../.." class="nohover">Carey Metcalfe</a></h2>
      <p>Software Developer</p>
      <div class="social">
          <a data-email="ac.eflactemc@yerac:otliam" data-title="Email" title="You need javascript enabled to view this email" class="email" target="_blank" rel="noopener noreferrer"><i class="fa fa-envelope fa-lg"></i></a>
          <a href="https://github.com/pR0Ps" title="GitHub" target="_blank" rel="noopener noreferrer"><i class="fa fa-github fa-lg"></i></a>
          <a href="https://twitter.com/CareyMetcalfe" title="Twitter" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter fa-lg"></i></a>
      </div>
      <ul>
      </ul>
    </div>
  </aside>

  <main id="main">
    <header>
      <p id="header">
      <a href="../..">Home</a>

      &#124; <a href="../../blog/index.html">Blog</a>
      &#124; <a href="https://cmetcalfe.ca/feeds/all.rss">RSS Feed</a>
      </p>
<p>Tag: games
</p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="../../blog/record-audio-from-specific-applications-with-shadowplay.html">Only record audio from specific applications with NVIDIA ShadowPlay</a></h1>
  </div>
  <div class="article_text">
    <p><a href="https://www.nvidia.com/en-us/geforce/geforce-experience/shadowplay/">ShadowPlay</a> is a feature of modern NVIDIA graphics cards that allows for recording games and
other applications at native resolution with only a minimal performance hit. It also includes some
genuinely useful features like instant replay.</p>
<p>Unfortunately, the audio options for recording are pretty limited. By default, all audio is recorded
to a single mixed track. This includes the game audio, but also your mic, notification sounds, any
music you're playing in the background, people talking on Steam, Discord, etc.</p>
<p>After some experimentation I eventually found a way to pick which applications to record the audio
from, but it's not intuitive at all so I'm documenting it here.</p>
<h1>General idea</h1>
<ul>
<li>Create a virtual audio device</li>
<li>Play the audio from this device to the default audio device so you can hear it</li>
<li>Force the applications you want to record to only play audio to this device</li>
<li>Tell ShadowPlay to only record audio from this device</li>
</ul>
<h1>Step by step guide</h1>
<ol>
<li>
<p>Install <a href="https://www.nvidia.com/en-us/geforce/geforce-experience/">GeForce Experience</a> and enable the in-game overlay and hotkey in the settings. Press
   the hotkey to bring up the overlay. In the overlay on the right you will see a microphone icon.
   Click it to bring up a dropdown menu then click on "Settings". In the menu that appears,
   configure your microphone input and select the "Separate both tracks" option. This will cause
   your microphone audio to be recorded, but in a separate track from the game audio, making it easy
   to strip out or mix in later. You can also just use the single track mode and mute the mic
   instead if you never want to record yourself.</p>
</li>
<li>
<p>Install <a href="https://vb-audio.com/Cable/">Virtual Audio Cable</a>. This will install two virtual sound devices on your system:
   "CABLE Input" (an output device) and "CABLE Output" (an input device). When sounds are played out
   the "CABLE Input" device, they can be recorded by listening to the "CABLE Output" device.</p>
</li>
<li>
<p>Open the "Sounds" control panel (Open the Control Panel, click "Hardware and Sound", then
   "Sound"), go to the "Recording" tab and find the "CABLE Output" device. Double click it to open
   its properties. Go to the "Listen" tab, check the "Listen to this device" option, and select the
   "Default Playback Device" as the target. This will allow you to hear any audio that is played by
   this device.
   <img alt="Configuring the &quot;CABLE Output&quot; device in the sounds control panel" src="../../images/listen_to_this_device.png"></p>
</li>
<li>
<p>Launch all applications and games you want to record.</p>
</li>
<li>
<p>Open the Sound mixer (Start menu, type "Sound mixer options"). You should see your open programs
   mapped to audio inputs and outputs. If you don't see a "NVIDIA Container" program listed then
   activate the GeForce overlay and toggle the "Instant Replay" setting on and off to make it
   appear. Change the "Output" of the "NVIDIA Container" application to the "CABLE Input" device.
   This tells ShadowPlay to only record the audio sent to this output.</p>
</li>
<li>
<p>Change the "Output" of each of the applications you want to record to "CABLE Input". I'm
   recording the audio from a game called <a href="https://store.steampowered.com/app/563560/Alien_Swarm_Reactive_Drop/"><em>Alien Swarm: Reactive Drop</em></a> in the example below.
   <img alt="Recording the audio from Alien Swarm: Reactive Drop" src="../../images/mixer_recording_asrd.png"></p>
</li>
<li>
<p>Start recording (or enable the instant replay recording mode)</p>
</li>
</ol>
<p>The resulting video files will only include audio from the applications you selected in step 6. If
you opted to record your microphone in step 1, it will be in a separate audio track that you can
either remove or manually mix into the main audio later.</p>
<h1>Notes</h1>
<ul>
<li>Tested on Windows 10 21H1 running GeForce Experience v3.22.0.32</li>
<li>Once this is all set up, the only thing you'll have to mess with on an ongoing basis is the mixer
   settings (steps 5 and 6)</li>
</ul>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="../../blog/fixing-save-corruption-ridiculous-fishing.html">Fixing save file corruption in Ridiculous Fishing</a></h1>
  </div>
  <div class="article_text">
    <p><a href="https://play.google.com/store/apps/details?id=com.vlambeer.RidiculousFishing">Ridiculous Fishing</a> is a game by <a href="http://www.vlambeer.com/">Vlambeer</a> about fishing. That's if you
can call chainsawing fish and blowing them out of the sky with a bazooka "fishing".</p>
<p>I've been playing this game on and off for a while now, but just recently I had
a problem where my save file somehow got corrupted, making the app refuse to open.</p>
<p>The problem first manifested as the game freezing for up to 5 seconds when
navigating around the UI or buying items in the in-game store. Since I was
running the game on a <a href="http://en.wikipedia.org/wiki/Nexus_5">Nexus 5</a> (not the latest and greatest, but pretty
close), it seemed weird. The delay got longer and longer until the game
eventually crashed and refused to reopen.</p>
<p>Since I was pretty far into the game (I only needed to catch one more species
of fish!), I opted to try to fix it instead of just wiping the app's data and
starting again. I initially tried clearing the app's cache and
<a href="../../blog/reinstall-android-app-without-losing-data.html">reinstalling the app</a>, but the problem persisted.</p>
<p>The next step was to dump the games's data to my computer so I could do some
analysis on it. Some exploration on the device revealed that the settings and
data were stored in the folder <code>/data/data/com.vlambeer.RidiculousFishing.humble</code>
(I have the <a href="https://www.humblebundle.com/">Humble Bundle</a> version of the app).</p>
<p>To pull that folder to my current directory, I used <a href="http://developer.android.com/tools/help/adb.html">ADB</a>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>adb<span class="w"> </span>root<span class="w"> </span><span class="c1">#Restart adbd on the device with root permissions</span>
adb<span class="w"> </span>pull<span class="w"> </span>/data/data/com.vlambeer.RidiculousFishing.humble/
</code></pre></div></td></tr></table></div>

<p>A quick <code>du -h</code> revealed that something was very wrong in the
<code>files/Library/Preferences/com.vlambeer.RidiculousFishing.humble.plist</code> file.
It should've been just a text document, but was well over 200MB.</p>
<p>After trying out of habit to open the file in <a href="http://www.vim.org/">Vim</a> and having it hang (oops),
I paged through the document with <a href="http://en.wikipedia.org/wiki/Less_%28Unix%29">less</a>. About halfway through the file,
there was a line containing <code>&amp;amp;lt;message&amp;amp;gt;@eggbirdTBA Take it to the
Smartypants Bar</code> (no, that's not a formatting error, in the plist there's XML
data stored in a <code>&lt;string&gt;</code> element, requiring the <code>&lt;</code> and <code>&gt;</code> characters to be
escaped) followed by about 200MB of garbage.</p>
<p>Apparently there are <a href="http://stackoverflow.com/questions/908575/how-to-edit-multi-gigabyte-text-files-vim-doesnt-work">ways to load huge files in Vim</a>, as well as other text
editors that handle them nicely, but since I already knew what line was causing
the issue, a simple <a href="http://en.wikipedia.org/wiki/Sed">sed</a> command would do the trick.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>sed<span class="w"> </span><span class="s1">&#39;/Take it to the Smartypants Bar/d&#39;</span><span class="w"> </span>com.vlambeer.RidiculousFishing.humble.plist<span class="w"> </span>&gt;<span class="w"> </span>temp.plist
</code></pre></div></td></tr></table></div>

<p>Total size of <code>temp.plist</code>: 107.11KB. Much better.</p>
<p>After going though and deleting some lines around the one that was removed (to
make the XML valid again), I pushed the file back to the device:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>adb<span class="w"> </span>push<span class="w"> </span>temp.plist<span class="w"> </span>/data/data/com.vlambeer.RidiculousFishing.humble/files/Library/Preferences/com.vlambeer.RidiculousFishing.humble.plist
</code></pre></div></td></tr></table></div>

<p>Success! The game opened properly, all the freezing issues were gone, and my
save data was still there.</p>
<p>Now to find that stupid <a href="http://gaming.stackexchange.com/questions/159564/how-to-catch-the-mimic-fish">Mimic Fish</a>...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="../../blog/making-steam-for-linux-close-to-the-system-tray.html">Making Steam for Linux close to the system tray</a></h1>
  </div>
  <div class="article_text">
    <p>Steam for Linux is a little odd in how it handles a user clicking the close button.
Instead of exiting the program or mimimizing the application to the system tray, it just minimizes it to the taskbar.
The developers have said that this is temporary and that it will be changed in the future, but for now, there is a workaround.</p>
<p>To make Steam always minimize to the system tray, just add <code>STEAM_FRAME_FORCE_CLOSE=1</code> to your environment.</p>
<p>For more information see the <a href="https://github.com/ValveSoftware/steam-for-linux/issues/1025">original GitHub issue</a>.</p>
  </div>
</article>

<footer>
<div id="paginator">
  <span id="left">
  </span>
  <span id="right">
  </span>
  <div>
      <a href="../../blog/tags/games.html">[1]</a>
  </div>
</div>
</footer>

    <div id="ending_message">
        <p>&copy; Carey Metcalfe. Built using <a href="http://getpelican.com">Pelican</a>. Theme is <a href="https://github.com/pR0Ps/pelican-subtle">subtle</a> by <a href="http://cmetcalfe.ca">Carey Metcalfe</a>. Based on <a href="https://github.com/giulivo/pelican-svbhack">svbhack</a> by Giulio Fidente.</p>
    </div>
  </main>

  <script type="text/javascript">
    window.addEventListener('load', skipHeader)
  </script>

  <script type="text/javascript">
  window.addEventListener('load', unmangleEmail)
  </script>
</body>
</html>